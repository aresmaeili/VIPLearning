//
//  MahdiConfigurator.swift
//  VIPLearning
//
//  Created by Mahdi Saedi on 29/01/2023.
//  Copyright Â© 2023 ___ORGANIZATIONNAME___. All rights reserved.
//
//  Generated by CleanSwiftGenerator
//

import UIKit

protocol MahdiConfigurator {
    func configure() -> MahdiViewController
}

final class MahdiDefaultConfigurator {
    private var sceneFactory: SceneFactory
    private var network: NetworkProtocol
    init(sceneFactory: SceneFactory, network: NetworkProtocol) {
        self.sceneFactory = sceneFactory
        self.network = network
    }
}

extension MahdiDefaultConfigurator: MahdiConfigurator {
    
    @discardableResult
    func configure() -> MahdiViewController {
        let storyboard = UIStoryboard(name: "Main", bundle: nil)
        let viewController: MahdiViewController = storyboard.instantiateViewController(withIdentifier: "MahdiViewController") as! MahdiViewController
        let worker = MahdiWorker(service: network)
        let interactor = MahdiInteractor()
        let presenter = MahdiPresenter(viewController: viewController)
        let router = MahdiRouter(sceneFactory: sceneFactory, viewController: viewController)
        
        router.dataStore = interactor
        interactor.presenter = presenter
        interactor.worker = worker
        viewController.interactor = interactor
        viewController.router = router
        
        return viewController
    }
}

